<div
  class="kf-select"
  [class.kf-form-item-with-help]="error$ | async"
  [class]="layout.htmlClass"
>
<div class="input-label">
  <label
    *ngIf="setting.title"
    [attr.for]="'control' + layout.id"
    [class]="layout.labelHtmlClass"
    [style.display]="setting.noTitle ? 'none' : ''"
    [innerHTML]="setting.title"
  ></label>
</div>

  <ng-content select="[name=extra]"></ng-content>

  <div class="select-content">
    <nz-select
      [id]="'control' + layout.id"
      [name]="'control' + layout.id"
      [nzSize]="layout.size"
      [nzShowSearch]="setting.showSearch"
      [nzAllowClear]="setting.allowClear"
      [nzBorderless]="layout.borderless"
      [class]="layout.fieldHtmlClass"
      [nzMode]="selectMode"
      [nzPlaceHolder]="setting.placeholder ?? '请选择'  + setting.title"
      [(ngModel)]="value"
      [disabled]="setting.readonly"
      [required]="setting.required"
      (ngModelChange)="selectChange($event)"
      (nzFocus)="focus()"
    >
      <ng-container *ngFor="let item of options | keyvalue: unsorted; let i = index">
        <nz-option [nzLabel]="item[setting.labelField]" [nzValue]="item[setting.valueField]"></nz-option>
      </ng-container>
    </nz-select>
    <kf-error [title]="setting.title" [error$]="error$"></kf-error>
  </div>
</div>
