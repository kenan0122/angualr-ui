<div class="kf-form-page" *ngIf="forms">
  <kf-tabs [tabs]="forms.tabs" [tabsTemplate]="slotTpl"> </kf-tabs>
  <ng-template #slotTpl let-tabIndex>
    <kf-form
      *ngIf="forms.tabs[tabIndex].fields"
      #formChild
      [formClass]="formClass"
      [fields]="forms.tabs[tabIndex].fields"
      [inputDto]="inputDto"
      [customObj]="customObj"
      [layout]="layout"
      (initOuter)="initFormData($event)"
      (fileArrayOuter)="fileArrayChanged($event)"
      (fileOuter)="fileChanged($event)"
    ></kf-form>
  </ng-template>

  <ng-content></ng-content>

  <div
    class="grid-column-center page-footer"
    *ngIf="visibleBtn.cancel || visibleBtn.promise"
  >
    <kf-button
      *ngIf="visibleBtn.cancel"
      [class]="'black'"
      style="width: 6.25rem; height: 2.5rem"
      (click)="cancel()"
    >
      取消
    </kf-button>
    <kf-button
      *ngIf="visibleBtn.promise"
      [class]="'primary'"
      style="width: 6.25rem; height: 2.5rem"
      [disabled]="!formControllerValid"
      (click)="click()"
    >
      保存
    </kf-button>
  </div>
</div>
