<div class="app-table">
  <kf-table
    *ngIf="tableJsonData"
    [data]="tableData"
    [jsonData]="tableJsonData"
    [reLoad]="reLoad"
    [operateTemplate]="customTpl"
    [btnTemplate]="btnTpl"
    (switchOuter)="publish($event)"
    (tableOuter)="tableChange($event)"
  >
  </kf-table>

  <ng-template #btnTpl let-ids>
    <div class="grid-column-start">
      <kf-button *ngIf="isEnableAddBtn"
        style="width: 6.25rem;height: 2.5rem;"
        (btnOuter)="add()">
        添加
      </kf-button>
      <ng-container *ngTemplateOutlet="tableTopTemplate; context: {$implicit: ids}"></ng-container>
    </div>
  </ng-template>

  <ng-template #customTpl  let-model>
    <div class="grid-column-center ">
      <kf-button
        buttonType="button--danger"
        buttonClass="ml-10"
        (btnOuter)="delete(model.data)">
        删除
      </kf-button>
      <kf-button *ngIf="isEnableEditBtn"
        buttonType="button--danger"
        buttonClass="ml-10"
        (btnOuter)="edit(model.data)">
        编辑
      </kf-button>
      <ng-container *ngTemplateOutlet="extraBtnTemplate; context: {$implicit: model.data}"></ng-container>
    </div>
  </ng-template>
</div>

<kf-modal *ngIf="inputDto"
  [isVisible]="isVisibleModal"
  [jsonData]="formsJsonData"
  [inputDto]="inputDto"
  [infoList]="errorList"
  (modalOuter)="closeModal($event)">
</kf-modal>
